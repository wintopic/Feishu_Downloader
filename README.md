# Feishu Downloader - 飞书导出助手

一款开源的 Chrome 浏览器扩展，一键导出飞书文档为 Markdown 格式，支持图片本地化保存。

## 功能特性

- **一键导出** - 点击按钮即可将飞书文档导出为标准 Markdown
- **图片本地化** - 自动下载文档中的图片并替换为本地路径
- **完整内容抓取** - 自动滚动页面，确保长文档完整导出
- **两种保存模式** - 支持浏览器默认下载或自选文件夹保存
- **丰富格式支持** - 标题、列表、表格、代码块、引用、待办事项、高亮块等
- **实时进度展示** - 可视化抓取进度，支持随时手动停止

## 安装方法

### 从源码安装

1. 下载本仓库代码（`Code` → `Download ZIP` 或 `git clone`）
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角 **开发者模式**
4. 点击 **加载已解压的扩展程序**，选择本项目文件夹
5. 扩展图标出现在工具栏即安装成功

## 使用方法

1. 打开任意飞书文档页面（`feishu.cn/docx/...` 或 `feishu.cn/wiki/...`）
2. 点击工具栏中的扩展图标
3. 点击 **导出当前文档**
4. 等待自动滚动抓取完成
5. 文件自动保存到下载目录（或选择的文件夹）

### 导出目录结构

```
文档标题/
├── 文档标题.md          # Markdown 文件
└── assets/
    └── images/          # 文档中的图片
        ├── image_001.png
        ├── image_002.jpg
        └── ...
```

## 设置

点击弹窗右上角齿轮图标进入设置：

| 模式 | 说明 |
|------|------|
| 浏览器默认下载 | 自动保存到浏览器下载目录，快速便捷 |
| 选择文件夹保存 | 每次导出时选择保存位置，需要浏览器支持 File System Access API |

## 支持的文档元素

| 元素 | 支持状态 |
|------|---------|
| 标题 (H1-H6) | ✅ |
| 段落文本 | ✅ |
| 加粗 / 斜体 / 删除线 | ✅ |
| 行内代码 | ✅ |
| 链接 | ✅ |
| 图片 | ✅ |
| 无序列表 | ✅ |
| 有序列表 | ✅ |
| 待办事项 | ✅ |
| 表格 | ✅ |
| 代码块（含语言标识） | ✅ |
| 引用块 | ✅ |
| 高亮块 (Callout) | ✅ |
| 分割线 | ✅ |

## 技术实现

- **Chrome Extension Manifest V3** - 现代扩展架构
- **Content Script** - 注入飞书页面执行文档解析
- **File System Access API** - 本地文件夹保存（可选）
- **Chrome Downloads API** - 浏览器默认下载

## 项目结构

```
├── manifest.json      # 扩展配置 (Manifest V3)
├── popup.html         # 弹窗界面
├── popup.css          # 弹窗样式
├── popup.js           # 弹窗交互逻辑
├── content.js         # 核心 - 文档抓取与 Markdown 转换
├── background.js      # 后台 - 文件下载服务
├── icons/             # 扩展图标
├── LICENSE            # MIT 许可证
├── DISCLAIMER.md      # 免责声明
└── README.md          # 本文件
```

## 免责声明

本工具仅供个人学习和合法用途使用。用户应确保仅导出自己有权访问的文档内容。本工具不涉及任何绕过认证、破解加密或未授权访问的行为，所有操作均在用户已登录页面的上下文中执行。

详细免责声明请阅读 [DISCLAIMER.md](DISCLAIMER.md)。

## 许可证

[MIT License](LICENSE)

## 贡献

欢迎提交 Issue 和 Pull Request。

提交 Issue 时请注明：
- 问题描述和复现步骤
- Chrome 版本
- 飞书文档类型（docx / wiki）
